TODO list:

1、设置好IDT表，这需要设置好相应的gdt表中的段，type的设置，dpl，cpl，rpl在64位模式下的使用情况。
2、考虑8259A存在与不存在使用APIC的情况。
3、完善CPUID的部分，不要每次都要读取一遍了。
4、参考其他内核，给不同架构的页表的bits设定一个统一的表示。(done)
5、根据修改过的架构统一页表flag表示，修改原先的代码。(done)
6、添加清理tlb的部分(紧急！！！因为试图反复把某些页面映射过去，所以必须刷新tlb，而不刷新就会出问题。实际上map函数较为工作良好)(done)
7、添加map函数的test和unmap的实现(done)
8、实现nexus(done)
9、实现spmalloc(done)
10、查看是否会修改一些页表项中的隔离域等问题
11、启动PIT时钟，并用于校准APIC时钟(Done)
12、阅读intel文档，完成x86下简单的中断的保存的处理（如有需要，可以参考Linux实现嵌套中断的情况），查找为何进入中断idt向量之后，没有硬件cli的问题并修复。(Done)
13、尝试实现x86下一个简单的时钟系统。最起码可以delay并且读取最新的时钟(Done)
14、根据mdelay的实现，完成APIC多核的启动。(Done)
15、设计好给不同核心以及同一核心上的stack的页面以及权限，如果有需要，需要给maphandler添加更改页面权限的函数。
16、学习了解aarch64的smp启动（Done）
17、x86 64既然已经运行起来了smp，需要进一步的启动其他核心
18、尝试更新makefile，我认为包括以下几个地方：是否能有个脚本，在运行期生成子文件夹下的makefile，因为看上去都相同。是否可以把.d文件生成到build下的对应文件夹下，而不是生成在当前文件夹。(Done)
19、acpi的基本解析目前结束了（虽然只使用了很少一部分），并且相对独立，需要整理到modules中来实现模块化，当然，可以理解的是，部分跟内核强相关的函数，不得不实现在内核中，这部分需要额外一些函数调用。
20、学习Linux的mcs spinlock，设计并实现多核spinlock，并整合到现有的多核mm中去。
21、了解 arm的generic timer（Done）并设计实现arm下的时钟以及时钟中断的处理。
22、在cpu id这部分，我们实际上需要考虑cpu本身的信息，以及cpu的拓扑情况。
23、需要了解aarch64的中断和Syscall处理这一部分，开启中断以及相应的处理。